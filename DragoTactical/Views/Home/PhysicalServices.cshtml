@model IEnumerable<DragoTactical.Models.Service>
@{
    ViewData["Title"] = "Physical Services Page";
}

<header class="bg-physical-services text-white position-relative overflow-hidden">
    <div class="circuit-box">
        <img src="~/images/WhiteCircuit.png" class="circuit1" alt="Circuit design">
    </div>

    <div class="hero-section-text container-responsive text-center">
        <h1 class="phc-title display-4 mb-5 mt-3">
            Physical Services
        </h1>

        <p class="hero-desc fw-normal fs-3 mb-5">
            Taking your Physical Security for Granted?
        </p>

        <div class="phs-desc row justify-content-center text-center mb-5">
            <div class="col mx-auto">
                <p class="fs-5 text-white mb-4">
                    Physical threat vectors (theft, malware, sabotage) focus on physical security
                    weaknesses. Once breached, they can compromise your business and affect
                    your sustainability. It's a fatal flaw to underestimate your security measures!
                </p>
                <p class="fs-5 text-white">
                    Let our team of certified professionals, both armed and unarmed, help
                    you on your journey to safeguarding your most valuable assets.
                </p>
            </div>
        </div>
    </div>

    <div>
        <img src="~/images/InvertedWhiteCircuit.png" class="circuit2" alt="Circuit design">
    </div>

</header>

<section class="services-section py-5 position-relative overflow-hidden">
    <div class="container mx-auto px-4">
        <h2 class="card-main-title text-center fw-bold mb-5">
            Our  Services
        </h2>

        <div class="container-card mx-auto">

            <div class="phy-bg-decor">
                <img src="~/images/Wavy1.png" class="wavy-element" alt="Wavy design">
                <img src="~/images/Wavy2.png" class="wavy-element2" alt="Wavy design">
                <img src="~/images/Wavy3.png" class="wavy-element3" alt="Wavy design">
                <img src="~/images/Wavy4.png" class="wavy-element4" alt="Wavy design">
            </div>

            <div class="row row-gutters">
                @if (Model != null)
                {
                    foreach (var service in Model)
                    {
                        <div class="col-md-6 d-flex flex-column">
                            <div class="card-body">
                                <h5 class="card-title">@service.Title</h5>
                                <p class="physical-card-desc">
                                    @service.Description
                                </p>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

<section class="contact-section pt-2 pb-2 position-relative overflow-hidden">

    <div class="mb-0">
        <img src="~/images/BlackCircuitDown.png" class="black-circuit" alt="Circuit design" />

        <h2 class="form-title text-black text-center fw-bold mb-0">
            Contact Us
        </h2>

        <img src="~/images/BlackCircuitUp.png" class="black-circuit2" alt="Circuit design" />
    </div>

    <div class="physical-contact container mx-auto justify-content-center" style="margin-top: 2rem;">
        <div class="security-warning">This form is protected.</div>

        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success" role="alert">
                @TempData["SuccessMessage"]
            </div>
        }

        @if (TempData["ErrorMessage"] != null)
        {
            <div class="alert alert-danger" role="alert">
                @TempData["ErrorMessage"]
            </div>
        }

        <form class="phy-form" method="post" action="/Contact/Submit" id="physicalContactForm" novalidate autocomplete="off">
            @Html.AntiForgeryToken()
            <div class="row g-3">
                <div class="col-12">
                    <input class="form-control phy-input" name="FirstName" type="text" placeholder="First Name*" required
                           minlength="2" maxlength="50" pattern="^[A-Za-z\s]{2,50}$"
                           title="Only letters allowed (2-50 characters)" />
                    <div class="invalid-feedback" id="firstName-error">First name must be at least 2 characters and contain only letters and spaces.</div>
                </div>
                <div class="col-12">
                    <input class="form-control phy-input" name="LastName" type="text" placeholder="Last Name*" required
                           minlength="2" maxlength="50" pattern="^[A-Za-z\s]{2,50}$"
                           title="Only letters allowed (2-50 characters)" />
                    <div class="invalid-feedback" id="lastName-error">Last name must be at least 2 characters and contain only letters and spaces.</div>
                </div>
                <div class="col-12">
                    <input class="form-control phy-input" name="Email" type="email" placeholder="Email*" required
                           maxlength="254" />
                    <div class="invalid-feedback" id="email-error">Email must contain &#64; symbol and valid domain (e.g., user&#64;example.com).</div>
                </div>
                <div class="col-12">
                    <input class="form-control phy-input" name="PhoneNumber" type="tel" placeholder="Phone*" required
                           minlength="10" maxlength="15" pattern="^\+?[0-9\s\-]{10,15}$"
                           title="Please enter a minimum of 10 digits." />
                    <div class="invalid-feedback" id="phone-error">Please enter a minimum of 10 digits.</div>
                </div>
                <div class="col-12">
                    <input class="form-control phy-input" name="CompanyName" type="text" placeholder="Company name (Optional)"
                           maxlength="100" pattern="^[^<>]{0,100}$"
                           title="No invalid characters allowed" />
                    <div class="invalid-feedback" id="company-error">Company name cannot contain < or > characters.</div>
                </div>
                <div class="col-12">
                    <select class="form-select phy-input" name="Location" required>
                        <option value="" disabled selected>Location*</option>
                        <option value="Eastern Cape">Eastern Cape</option>
                        <option value="Free State">Free State</option>
                        <option value="Gauteng">Gauteng</option>
                        <option value="KwaZulu-Natal">KwaZulu-Natal</option>
                        <option value="Limpopo">Limpopo</option>
                        <option value="Mpumalanga">Mpumalanga</option>
                        <option value="Northern Cape">Northern Cape</option>
                        <option value="North West">North West</option>
                        <option value="Western Cape">Western Cape</option>
                    </select>
                    <div class="invalid-feedback" id="location-error">Please select your location from the dropdown.</div>
                </div>
                <div class="col-12">
                    <select class="form-select phy-input" name="ServiceId" required>
                        <option value="" disabled selected>Physical Services of Interest*</option>
                        @if (Model != null)
                        {
                            foreach (var service in Model)
                            {
                                <option value="@service.ServiceId">@service.ServiceName</option>
                            }
                        }
                        <option value="0">Other</option>
                    </select>
                    <div class="invalid-feedback" id="service-error">Please select a physical service from the dropdown.</div>
                </div>
                <div class="col-12">
                    <textarea class="form-control phy-input" name="Message" rows="4" placeholder="Message– Please provide a description of your physical security needs"
                              required minlength="10" maxlength="1000" pattern="^[^<>]{10,1000}$"
                              title="Please enter a minimum of 10 characters."></textarea>
                    <div class="invalid-feedback" id="message-error">Please enter a minimum of 10 characters.</div>
                </div>
            </div>

            <div class="mt-4 d-flex justify-content-center">
                <button type="submit" class="btn phy-btn-primary">Submit*</button>
            </div>
        </form>
    </div>

    <div>
        <img src="~/images/CircuitCircleLeft.png" class="circle-circuit" alt="Circuit design" />

        <p class="copyright">Copyright © 2025 DragoTactical Cyber. All Rights Reserved.</p>

        <img src="~/images/CircuitCircleRight.png" class="circle-circuit2" alt="Circuit design" />
    </div>
</section>

<!-- Front-end validation for Physical Services form -->
<script src="~/js/form-validation.js"></script>